!function(){var e={1945:function(){document.addEventListener("DOMContentLoaded",(()=>(()=>{document.querySelectorAll(".api-key-input.has-value").forEach((e=>{const t=e.getAttribute("data-masked"),o=e.value;e.setAttribute("data-actual",o),e.value=t})),document.querySelectorAll(".edit-api-key-btn").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const o=e.closest(".api-key-field-wrapper").querySelector(".api-key-input");o.removeAttribute("readonly"),o.value="",o.classList.remove("has-value"),o.removeAttribute("data-actual"),o.removeAttribute("data-masked"),o.focus(),e.style.display="none"}))})),document.querySelectorAll(".api-key-input").forEach((e=>{e.addEventListener("blur",(()=>{const t=e.value.trim(),o=e.closest(".api-key-field-wrapper");let a=o.querySelector(".edit-api-key-btn");if(t.length>8){const s=t.substring(0,4)+"•".repeat(Math.min(t.length-8,40))+t.substring(t.length-4);if(e.setAttribute("data-masked",s),e.setAttribute("data-actual",t),e.value=s,e.setAttribute("readonly","readonly"),e.classList.add("has-value"),!a){const t=e.name.match(/\[([^\]]+)\]/)[1];a=document.createElement("button"),a.type="button",a.className="edit-api-key-btn",a.setAttribute("data-key",t),a.setAttribute("title","Modifier la clé API"),fetch(wpmastertoolkit_settings.pluginUrl+"admin/svg/edit.svg").then((e=>e.text())).then((e=>{a.innerHTML=e})),o.appendChild(a),a.addEventListener("click",(t=>{t.preventDefault(),e.removeAttribute("readonly"),e.value="",e.classList.remove("has-value"),e.removeAttribute("data-actual"),e.removeAttribute("data-masked"),e.focus(),a.style.display="none"}))}a.style.display="flex"}else""===t&&(e.classList.remove("has-value"),e.removeAttribute("readonly"),a&&(a.style.display="none"))}))}));const e=document.querySelector("form");e&&e.addEventListener("submit",(e=>{document.querySelectorAll(".api-key-input.has-value").forEach((e=>{const t=e.getAttribute("data-actual");t&&(e.value=t)}))}))})()))},2339:function(){document.addEventListener("DOMContentLoaded",(()=>(()=>{const e=document.querySelector(".wp-mastertoolkit__header__left__title__version__open-modal-button"),t=document.querySelector(".wp-mastertoolkit__changelog-modal"),o=document.querySelector(".wp-mastertoolkit__changelog-modal__content__close");e.addEventListener("click",(()=>{t.classList.add("show")})),o.addEventListener("click",(()=>{t.classList.remove("show")}))})()))},5366:function(){document.addEventListener("DOMContentLoaded",(()=>(()=>{const e=document.querySelectorAll(".wp-mastertoolkit__body__sections__item"),t=document.querySelectorAll(".wp-mastertoolkit__body__groups__item"),o=document.querySelector(".wp-mastertoolkit__header__right__search input");let a=null;const s=e=>{t.forEach((t=>{const o=t.dataset.key;if(e===o){if(t.classList.add("active"),"settings"===o){const e=document.querySelector("#JS-wpmastertoolkit_modal_promot");e&&e.classList.add("show")}}else t.classList.remove("active")}))},n=t=>{e.forEach((e=>{const o=e.dataset.key,a=e.classList,s=o.split(" ");"all"===t&&!a.contains("hide-in-all")||s.includes(t)?e.classList.add("show"):e.classList.remove("show")}))};(()=>{let e=window.location.hash.substr(1);""===e&&(e="all",window.location.hash=e),n(e),s(e)})(),t.forEach((e=>{e.addEventListener("click",(()=>{const t=e.dataset.key;window.location.hash=t,o.value="",n(t),s(t)}))})),o.addEventListener("keyup",(t=>{clearInterval(a),a=setInterval((()=>{window.location.hash="all",s("all");let o=t.target.value.toLowerCase();o=o.normalize("NFD").replace(/[\u0300-\u036f]/g,""),e.forEach((e=>{let t=e.dataset.title,a=e.dataset.originaltitle;(t||a)&&(t=t.toLowerCase(),t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,""),a=a.toLowerCase(),a=a.normalize("NFD").replace(/[\u0300-\u036f]/g,""),t.includes(o)||a.includes(o)?e.classList.add("show"):e.classList.remove("show"))})),clearInterval(a)}),500)})),o.addEventListener("keypress",(e=>{13===e.keyCode&&e.preventDefault()}))})()))},1017:function(){document.addEventListener("DOMContentLoaded",(()=>(()=>{const e=document.querySelector('.wp-mastertoolkit__header__right__save input[type="submit"]'),t=document.querySelector('.wp-mastertoolkit__save-button button[type="submit"]'),o=document.querySelector(".wp-mastertoolkit__opt-in-modal");if(o){const a=()=>{o.classList.add("show");const e=o.querySelector("#JS-wpmastertoolkit_modal_optin_checkbox"),t=document.querySelector("#JS-wpmastertoolkit_settings_optin_checkbox");e.addEventListener("change",(o=>{t.checked=e.checked}))};e.addEventListener("click",(e=>{e.preventDefault(),a()})),t.addEventListener("click",(e=>{e.preventDefault(),a()}))}})()))},1538:function(){document.addEventListener("DOMContentLoaded",(()=>(()=>{const e=document.querySelector("#JS-wpmastertoolkit_modal_promot_try_now"),t=document.querySelector("#JS-wpmastertoolkit_modal_promot_try_now_hidden");e&&e.addEventListener("click",(()=>{t.click()}))})()))},3907:function(){document.addEventListener("DOMContentLoaded",(()=>(()=>{const e=document.querySelector(".wrap.wp-mastertoolkit form"),t=document.querySelector(".wp-mastertoolkit__save-button");e&&t&&e.addEventListener("change",(e=>{t.classList.add("show")}))})()))}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,o),n.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";o(5366),o(3907),o(2339),o(1017),o(1538),o(1945),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("JS-wpmastertoolkit_regenerate_assets_btn");e&&e.addEventListener("click",(function(t){t.preventDefault();const o=e.querySelector(".button-success"),a=e.querySelector(".button-loader");o&&(o.style.display="none"),a&&(a.style.display="inline-block"),e.disabled=!0,e.classList.add("loader-active");const s=new FormData;s.append("action","wpmastertoolkit_regenerate_assets"),s.append("nonce",wpmastertoolkit_settings_ajax.nonce),fetch(wpmastertoolkit_settings_ajax.ajax_url,{method:"POST",credentials:"same-origin",body:s}).then((e=>e.json())).then((t=>{e.disabled=!1,e.classList.remove("loader-active"),t.success?(a&&(a.style.display="none"),o&&(o.style.display="inline-block")):alert(t.data.message||"Une erreur est survenue lors de la régénération des assets.")})).catch((t=>{console.error("Error:",t),e.disabled=!1,e.classList.remove("loader-active"),alert("Une erreur réseau est survenue. Veuillez réessayer.")}))}));const t=document.getElementById("JS-wpmastertoolkit_copy_system_info_btn");t&&t.addEventListener("click",(function(e){e.preventDefault();const o=t.querySelector(".button-copy"),a=t.querySelector(".button-text"),s=t.querySelector(".button-success"),n=t.querySelector(".button-loader");s&&(s.style.display="none"),o&&(o.style.display="none"),n&&(n.style.display="inline-block"),t.disabled=!0,t.classList.add("loader-active");const l=new FormData;function r(){t.disabled=!1,t.classList.remove("loader-active"),n&&(n.style.display="none"),a&&(a.style.display="inline")}l.append("action","wpmastertoolkit_get_system_info"),l.append("nonce",wpmastertoolkit_settings_ajax.nonce),fetch(wpmastertoolkit_settings_ajax.ajax_url,{method:"POST",credentials:"same-origin",body:l}).then((e=>e.json())).then((e=>{if(e.success){const a=e.data.formatted;if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(a).then((()=>{n&&(n.style.display="none"),s&&(s.style.display="inline-block"),setTimeout((()=>{s&&(s.style.display="none"),o&&(o.style.display="inline-block"),n&&(n.style.display="none"),t.disabled=!1,t.classList.remove("loader-active")}),2e3)})).catch((e=>{console.error("Failed to copy:",e),alert("Erreur lors de la copie. Veuillez réessayer."),r()}));else{const e=document.createElement("textarea");e.value=a,e.style.position="fixed",e.style.left="-999999px",document.body.appendChild(e),e.select();try{document.execCommand("copy"),n&&(n.style.display="none"),s&&(s.style.display="inline-block"),setTimeout((()=>{s&&(s.style.display="none"),o&&(o.style.display="inline-block"),n&&(n.style.display="none"),t.disabled=!1,t.classList.remove("loader-active")}),2e3)}catch(e){console.error("Failed to copy:",e),alert("Erreur lors de la copie. Veuillez réessayer."),r()}finally{document.body.removeChild(e)}}}else alert(e.data.message||"Une erreur est survenue lors de la récupération des informations système."),r()})).catch((e=>{console.error("Error:",e),alert("Une erreur réseau est survenue. Veuillez réessayer."),r()}))}))}))}()}();