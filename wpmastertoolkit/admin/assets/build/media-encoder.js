!function(){var e={6632:function(){document.addEventListener("DOMContentLoaded",(()=>(()=>{const e=document.querySelectorAll(".wp-mastertoolkit__section__body__item__title__info"),t=()=>{e.forEach((e=>{e.classList.remove("show")}))};document.addEventListener("click",(e=>{const o=e.target;if(o.closest(".wp-mastertoolkit__section__body__item__title__info__icon")){const e=o.closest(".wp-mastertoolkit__section__body__item__title__info");e&&(t(),e.classList.add("show"))}else o.closest(".wp-mastertoolkit__section__body__item__title__info__popup")||t()}))})()))},7934:function(){const e=()=>{const e=document.querySelector(".wp-mastertoolkit__section__bulk__top button.start"),t=document.querySelector(".wp-mastertoolkit__section__bulk__top button.stop"),o=document.querySelector(".wp-mastertoolkit__section__bulk__progress"),n=document.querySelector(".wp-mastertoolkit__section__bulk__progress__inner"),r=document.querySelector(".wp-mastertoolkit__section__bulk__progress__progress"),s=document.querySelector(".wp-mastertoolkit__section__bulk__message"),a=()=>{let e;e=setInterval((()=>{let t=new FormData;t.append("action","wpmtk_media_encoder_progress_bulk"),t.append("nonce",WPMastertoolkit_media_encoder.nonce);let o={method:"POST",body:t,redirect:"follow"};fetch(WPMastertoolkit_media_encoder.ajaxUrl,o).then((e=>e.json())).then((t=>{t.success&&(m(t.data.progress),p(t.data.percent),t.data.running||(c(),i(),clearInterval(e)))})).catch((e=>{console.log("ERROR: ",e),_()}))}),5e3)};e&&a();const _=()=>{e.classList.remove("show-spinner")},i=()=>{e.classList.add("show")},c=()=>{t.classList.remove("show")},l=e=>{s.innerHTML=e},d=()=>{s.innerHTML=""},m=e=>{r.innerHTML=e},p=e=>{n.style.width=e};e&&e.addEventListener("click",(n=>{(n=>{n.preventDefault(),d(),e.classList.add("show-spinner");let r=new FormData;r.append("action","wpmtk_media_encoder_start_bulk"),r.append("nonce",WPMastertoolkit_media_encoder.nonce);let s={method:"POST",body:r,redirect:"follow"};fetch(WPMastertoolkit_media_encoder.ajaxUrl,s).then((e=>e.json())).then((n=>{_(),n.success?(e.classList.remove("show"),t.classList.add("show"),o.classList.add("show"),m(n.data.progress),p(n.data.percent),a()):l(n.data)})).catch((e=>{console.log("ERROR: ",e),_()}))})(n)})),t&&t.addEventListener("click",(e=>{(e=>{e.preventDefault(),d();let t=new FormData;t.append("action","wpmtk_media_encoder_stop_bulk"),t.append("nonce",WPMastertoolkit_media_encoder.nonce);let n={method:"POST",body:t,redirect:"follow"};fetch(WPMastertoolkit_media_encoder.ajaxUrl,n).then((e=>e.json())).then((e=>{e.success?(c(),i(),o.classList.remove("show"),clearInterval(checkProgressInterval)):l(e.data)})).catch((e=>{console.log("ERROR: ",e)}))})(e)}))};document.addEventListener("DOMContentLoaded",(()=>e()))},9641:function(){const e=()=>{const e=document.querySelector(".wp-mastertoolkit__section__migrate__top button.start"),t=document.querySelector(".wp-mastertoolkit__section__migrate__top button.stop"),o=document.querySelector(".wp-mastertoolkit__section__migrate__progress"),n=document.querySelector(".wp-mastertoolkit__section__migrate__progress__inner"),r=document.querySelector(".wp-mastertoolkit__section__migrate__progress__progress"),s=document.querySelector(".wp-mastertoolkit__section__migrate__message"),a=()=>{let e;e=setInterval((()=>{let t=new FormData;t.append("action","wpmtk_media_encoder_progress_bulk_migration"),t.append("nonce",WPMastertoolkit_media_encoder.nonce);let o={method:"POST",body:t,redirect:"follow"};fetch(WPMastertoolkit_media_encoder.ajaxUrl,o).then((e=>e.json())).then((t=>{t.success&&(m(t.data.progress),p(t.data.percent),t.data.running||(c(),i(),clearInterval(e)))})).catch((e=>{console.log("ERROR: ",e),_()}))}),5e3)};e&&a();const _=()=>{e.classList.remove("show-spinner")},i=()=>{e.classList.add("show")},c=()=>{t.classList.remove("show")},l=e=>{s.innerHTML=e},d=()=>{s.innerHTML=""},m=e=>{r.innerHTML=e},p=e=>{n.style.width=e};e&&e.addEventListener("click",(n=>{(n=>{n.preventDefault(),d(),e.classList.add("show-spinner");let r=new FormData;r.append("action","wpmtk_media_encoder_start_bulk_migration"),r.append("nonce",WPMastertoolkit_media_encoder.nonce);let s={method:"POST",body:r,redirect:"follow"};fetch(WPMastertoolkit_media_encoder.ajaxUrl,s).then((e=>e.json())).then((n=>{_(),n.success?(e.classList.remove("show"),t.classList.add("show"),o.classList.add("show"),m(n.data.progress),p(n.data.percent),a()):l(n.data)})).catch((e=>{console.log("ERROR: ",e),_()}))})(n)})),t&&t.addEventListener("click",(e=>{(e=>{e.preventDefault(),d();let t=new FormData;t.append("action","wpmtk_media_encoder_stop_bulk_migration"),t.append("nonce",WPMastertoolkit_media_encoder.nonce);let n={method:"POST",body:t,redirect:"follow"};fetch(WPMastertoolkit_media_encoder.ajaxUrl,n).then((e=>e.json())).then((e=>{e.success?(c(),i(),o.classList.remove("show"),clearInterval(checkProgressInterval)):l(e.data)})).catch((e=>{console.log("ERROR: ",e)}))})(e)}))};document.addEventListener("DOMContentLoaded",(()=>e()))},5467:function(){const e=()=>{const e=document.querySelector(".wp-mastertoolkit__section__preview"),t=document.querySelector(".wp-mastertoolkit__button__open-preview"),o=document.querySelector(".wp-mastertoolkit__section__preview__close__btn"),n=document.querySelector(".wp-mastertoolkit__section__preview__file__btn"),r=document.querySelector(".wp-mastertoolkit__section__preview__file__input"),s=document.querySelector(".wp-mastertoolkit__section__preview__file"),a=document.querySelector(".wp-mastertoolkit__section__preview__compare"),_=document.querySelector(".wp-mastertoolkit__section__preview__compare__handle"),i=document.querySelector(".wp-mastertoolkit__section__preview__compare__images__original"),c=document.querySelector(".wp-mastertoolkit__section__preview__compare__images__original .image"),l=document.querySelector(".wp-mastertoolkit__section__preview__compare__images__new"),d=document.querySelector(".wp-mastertoolkit__section__preview__compare__images__new .image"),m=document.querySelector(".wp-mastertoolkit__section__preview__compare__data__original__size"),p=document.querySelector(".wp-mastertoolkit__section__preview__compare__data__new__type"),u=document.querySelector(".wp-mastertoolkit__section__preview__compare__data__new__size"),w=document.querySelector(".wp-mastertoolkit__section__preview__compare__data__new__gain"),y=document.querySelector(".wp-mastertoolkit__section__preview__spiner");let v=!1,k=0,g=0;const h=()=>{r.value="",s.classList.add("show")},f=()=>{y.classList.remove("show")},L=e=>{let t=0,o="";return e<1024?(t=e,o="bytes"):e<1048576?(t=(e/1024).toFixed(2),o="KB"):(t=(e/1048576).toFixed(2),o="MB"),{value:t,unit:o}},b=()=>{v=!1};t.addEventListener("click",(t=>{t.preventDefault(),document.body.style.overflowY="hidden",e.classList.add("open")})),o.addEventListener("click",(t=>{t.preventDefault(),document.body.style.removeProperty("overflow-y"),e.classList.remove("open"),c.style.backgroundImage="",d.style.backgroundImage="",m.innerHTML="",p.innerHTML="",u.innerHTML="",f(),a.classList.remove("show"),h()})),n.addEventListener("click",(()=>{r.click()})),r.addEventListener("change",(()=>{(()=>{s.classList.remove("show"),y.classList.add("show");let e=r.files;if(e.length<1)return f(),void h();let t=(()=>{const e=document.querySelector('input[name="wpmastertoolkit_settings_media_encoder[quality]"'),t=document.querySelector('input[name="wpmastertoolkit_settings_media_encoder[sharpen]"'),o=document.querySelector('select[name="wpmastertoolkit_settings_media_encoder[library][value]"]');return{quality:e?e.value:"",sharpen:t?t.value:"",library:{value:o?o.value:""}}})(),o={};for(const e in t)Object.hasOwnProperty.call(t,e)&&(o[e]=t[e]);let n=new FormData;n.append("action","wpmtk_media_encoder_preview_mode"),n.append("nonce",WPMastertoolkit_media_encoder.nonce),n.append("file",e[0]),n.append("settings",JSON.stringify(o));let _={method:"POST",body:n,redirect:"follow"};fetch(WPMastertoolkit_media_encoder.ajaxUrl,_).then((e=>e.json())).then((t=>{if(f(),t.success){let o=t.data,n=L(o.size),r=4*Math.ceil(o.image.length/3)*.5624896334383812,s=L(r),_=100-r/o.size*100,i=_>0?"-":"+";(e=>{c.style.backgroundImage="url("+e.image+")",m.innerHTML=e.size})({image:(window.URL?URL:webkitURL).createObjectURL(e[0]),name:o.original_name,type:o.type,size:n.value+" "+n.unit}),(e=>{d.style.backgroundImage="url("+e.image+")",p.innerHTML=e.type,u.innerHTML=e.size,w.innerHTML=e.gain})({image:o.image,name:o.name,type:o.new_type,size:s.value+" "+s.unit,gain:i+Math.abs(_.toFixed(2))+" %"}),a.classList.add("show")}else h()})).catch((e=>{console.log("ERROR: ",e),f(),h()}))})()})),_.addEventListener("mousedown",(e=>{(e=>{g=window.getComputedStyle(_).getPropertyValue("left"),k=e.clientX,v=!0})(e)})),a.addEventListener("mousemove",(e=>{(e=>{if(v){let t=a.offsetWidth,o=e.clientX-k,n=parseFloat(g)+o,r=n/t*100;r=r<0?0:r,r=r>100?100:r;let s=100-r;_.style.left=n+"px",l.style.left=r+"%",d.style.left="-"+r+"%",i.style.left="-"+s+"%",c.style.left=s+"%"}})(e)})),_.addEventListener("mouseup",(()=>{b()})),a.addEventListener("mouseleave",(e=>{b()})),window.addEventListener("resize",(()=>(()=>{let e=a.offsetWidth,t=parseFloat(window.getComputedStyle(_).getPropertyValue("left"))/e*100;t=t<0?0:t,t=t>100?100:t;let o=100-t;l.style.left=t+"%",d.style.left="-"+t+"%",i.style.left="-"+o+"%",c.style.left=o+"%"})()))};document.addEventListener("DOMContentLoaded",(()=>e()))},9573:function(){document.addEventListener("DOMContentLoaded",(()=>(()=>{const e=document.querySelectorAll(".wp-mastertoolkit__rang-slider input[type=range]"),t=e=>{let t=e.value;return e.parentNode.style.setProperty("--value",t),e.parentNode.style.setProperty("--min",e.min),e.parentNode.style.setProperty("--max",e.max),t};e.forEach((e=>{t(e),e.addEventListener("input",(e=>{let o=e.target,n=t(o),r=o.nextElementSibling.querySelector(".value-num");r&&(r.innerHTML=n)}))}))})()))}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";o(9573),o(5467),o(7934),o(9641),o(6632)}()}();